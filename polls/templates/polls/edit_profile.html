{% extends 'polls/base.html' %}
{% block title %} Редактировать профиль {% endblock %}
{% block content %}
        {% if error %}
        <div style="color: red; margin-bottom: 15px;">{{ error }}</div>
    {% endif %}
    
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div style="margin-bottom: 20px;">
            <label for="avatar">Аватар:</label><br>
            {% if user.avatar %}
                <img src="{{ user.avatar.url }}" alt="Текущий аватар" width="100" style="border-radius: 50%; margin: 10px 0;">
            {% endif %}
            <input type="file" name="avatar" id="avatar" accept="image/*">
        </div>
        
        <div style="margin-bottom: 15px;">
            <label for="username">Имя пользователя:</label>
            <input type="text" name="username" id="username" value="{{ user.username }}" required>
        </div>
        
        <div style="margin-bottom: 15px;">
            <label for="email">Email:</label>
            <input type="email" name="email" id="email" value="{{ user.email }}" required>
        </div>
        
        <button type="submit" style="background: #4CAF50; color: white; padding: 10px 20px; border: none; border-radius: 4px;">
            Сохранить изменения
        </button>
        <a href="{% url 'polls:profile' %}" style="margin-left: 10px; padding: 10px 20px; background: #ccc; color: black; text-decoration: none; border-radius: 4px;">
            Отмена
        </a>
    </form>
{% endblock %}